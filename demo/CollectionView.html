<html>
  <head>
    <title>Jasmine Test Runner</title>
    <link rel="stylesheet" type="text/css" href="jasmine-standalone-1.0.0/lib/jasmine-1.0.0/jasmine.css">

    <!-- Backbone 'n Underscore -->
    <script type="text/javascript" src="../src/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="../src/underscore-min.js"></script>
    <script type="text/javascript" src="../src/underscore-min.js"></script>
    <script type="text/javascript" src="../src/backbone-min.js"></script>

    <!-- Source files -->
    <script type="text/javascript" src="../lib/CollectionItemView.js"></script>
    <script type="text/javascript" src="../lib/CollectionView.js"></script>

  </head>
  <body>

    <div data-add-items>
      <h4>Add an item to the collection:</h4>
      <span>Index: <input type="text" data-index /></span>
      <span>Name: <input type="text" data-name /></span>
      <a href="#" data-add-btn>Add item</a>
    </div>

    <div data-collection-view></div>

    <script type="text/javascript">
      var collection = new Backbone.Collection();
      var collectionList = new CollectionView({
        collection: collection,
        el: $('[data-collection-view]')
      });

      var DemoView = Backbone.View.extend({
        events: {
          "click [data-add-btn]":   "addItem"
        },

        addItem: function(event) {
          var name = this.$('[data-name]').val();
          var index = this.$('[data-index]').val();

          var item = new Backbone.Model({ name: name });
          var opts = {};
          if (index) {
            opts.at = index;
          }

          collection.add(item, opts);

          return false;
        }
      });

      var demo = new DemoView({
        el: $('[data-add-items]')
      });
    </script>


  </body>
</html>